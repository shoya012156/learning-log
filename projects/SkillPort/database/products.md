# productsテーブルの振り返りメモ

## 1. テーブルの役割と複雑さ 

### テーブルの役割
利用者の制作物に関するコア情報を管理し、アプリのメインコンテンツを構成する。

### 構造的な複雑さ
- users、categories との必須リレーションを持つ
- video_url や experience_detail など、特定条件でのみ値が存在するカラムあり
- データ整合性の維持に特に時間と工夫を要した

---

## 2. Seeder/Factoryでの工夫と課題解決

### A. データのリアリティと整合性の追求

#### AIを活用したリアルなデータ生成
- product_title と explanatory_text を、AIサービスを用いて本物に近いテキストとして生成
- セットで整合性が取れるよう関連付けてFactoryへ組み込んだ
- ランダム性とリアリティの両立を実現

#### 条件分岐によるカラムの制御
- カテゴリーが「動画編集」の場合のみ video_url を生成
- experience カラムが「経験あり」の場合のみ experience_detail を生成

→ アプリの実際のロジックを忠実に再現し、欠損のない高品質なテストデータを提供できた

#### テキストの文字数調整
- explanatory_text、experience_detail の文字数を実際の利用を想定した長さに調整
- 表示崩れ・バリデーションチェックの精度向上に貢献

---

### B. ユーザー視点での設計判断（study_period / production_period）

#### 選択式採用の提案
- 入力方式を「フリー入力」か「選択式」かで比較検討
- 入力負荷の軽減とデータ集計のしやすさを優先し、選択式を提案・採用

→ UXとデータ活用の両面を考えた設計判断となった

---

### C. チーム開発への貢献
- 仕様変更や追加が発生した際、ミーティングで相談しながら柔軟にFactoryロジックやデータ定義を変更
- 実装フェーズからフィードバックを行い、仕様の具体化に寄与した

---

## 3. 学び / 成果 

### 最大の学び（実装）
データのランダム性と整合性を両立させるFactoryロジック構築は大きな挑戦だった。  
特に条件分岐や外部API（AI）との連携により、複雑なデータパターン生成のスキルが向上した。

### 最大の学び（設計）
アプリケーションのコアデータを設計する際は、

- テストのしやすさ  
- ユーザーの使いやすさ  
- データの利用しやすさ  

これら複数の観点から最適なデータ構造を検討すべきだと学んだ。


