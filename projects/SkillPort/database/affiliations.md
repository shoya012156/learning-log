## affiliationsテーブルの振り返り

- 利用者、スタッフの所属している事業所を管理するテーブル

- 工夫した点
  - affiliationsテーブルのSeederを先に実行して事業所データを作成し、リレーションを定義してからusers,staffsテーブルのfactoryで振り分けるロジックを組んだ。
    - これにより外部キー制約を遵守し、整合性のあるダミーデータを効率的に生成できた
  - ダミーデータとして実際の所属割合に近くなるようにランダムで振り分けた

- 学び
  - 今後の保守、拡張性も考えて切り分けるべきデータは切り分けることで管理しやすくできるようにした。